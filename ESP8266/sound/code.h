/* Autogenerated by hxtools bin2c */
#ifdef __cplusplus
extern "C" {
#endif

/* Autogenerated from code.js */
static const unsigned char bin2c_code_js[5867] = "count = \"a\";\12const accueil = \"Tapez le code\";\12const button = document.getElementById(\"ouvrir\");\12const swap = document.getElementById(\"swap\");\12const eko = document.getElementById(\"eko\");\12const buttons_div = document.getElementById(\"buttons\");\12\12if (false) {\12    const ws = new WebSocket('ws://192.168.1.95/ws')\12    ws.onopen = () => {\12        console.log('ws opened on browser')\12        ws.send('hello world')\12    }\12    \12    ws.onmessage = (message) => {\12        console.log(`message received ` + message.data)\12        eko.innerHTML += message.data + '<br>';\12    }\12}\12function statut() {\12    murl = \"statut_porte\";\12    //console.log(\"statut fetching\");\12    count = count + \"a\";\12    //document.getElementById(\"statut\").innerHTML = \"fetching\";\12    //console.log(\"url 1\", murl);\12    fetch(murl).then(function(response) {\12        //console.log('reponse statut 1 ', response);        \12        d = response.json();\12        //console.log('reponse statut ', d);\12        //console.log(d[\"porte\"]);\12        //console.log(\"result 1\", d);\12        return d;\12    }).then(function(data) {\12        //console.log(\"then 1 \", data);\12        //button.innerHTML = count;\12        //console.log(\"data\");\12        //console.log('data statut ', data);\12        var dsds = \"La porte est \" + data[\"porte_fermee\"] + \", \" + data[\"porte_ouverte\"] + \"<br>\";\12        //dsds +=  \"buf_len : \" + data[\"buf_len\"] + \"<p>\";\12        //dsds +=  \"swapped : \" + data[\"swapped\"] + \"<p>\";\12        document.getElementById(\"statut\").innerHTML = dsds;\12        setTimeout(statut, 1000);\12    }).catch(function(ee) {\12        console.log(\"statut statut failed\");\12        //document.getElementById(\"statut\").innerHTML = ee;\12        \12    });\12\12    //ws.send(\"ws message\");\12    \12}\12const myTimeout = setTimeout(statut, 1000);\12\12cookies = document.cookies;\12console.log(cookies);\12reset = function(){\12    button.style.fontSize=\"100px\";\12    button.innerHTML = accueil;\12    button.disabled = false;\12};\12//const url = \"http://78.207.134.29:8083/main\";\12//const url = \"http://78.207.134.29:8083/main\";\12//const url = \"http://78.207.134.29:8083/main\";\12const url = \"WURL\";\12//const url = \"http://192.168.1.95/main\";\12\12function getCookie(cname) {\12    let name = cname + \"=\";\12    let decodedCookie = decodeURIComponent(document.cookie);\12    let ca = decodedCookie.split(';');\12    for(let i = 0; i <ca.length; i++) {\12        let c = ca[i];\12        while (c.charAt(0) == ' ') {\12            c = c.substring(1);\12        }\12        if (c.indexOf(name) == 0) {\12            return c.substring(name.length, c.length);\12        }\12    }\12    return \"\";\12}\12code =getCookie(\"eportiercode\");\12console.log(code);\12\12function ouvre(cde) {\12    //console.log(\"cde= \", cde);\12    document.cookie = \"eportiercode=\" + cde + \";SameSite=Strict\";\12    cookies = document.cookies;\12    //console.log(\"cookies \", cookies);\12    cookies = document.cookie;\12    //console.log(\"cookies2 \", cookies);\12    button.style.fontSize=\"30px\";\12    button.innerHTML = \"le verrou va s'ouvrir ...\";\12    const murl = \"main\" + cde;\12    setTimeout(() => {\12        button.disabled = true;\12        //console.log(\"url+cde \", murl)\12        fetch(murl).then(function(result)  {\12            //console.log(\"result ouvre \", result);\12            d = result.json();\12            //console.log(\"result \", d);\12            return d;\12        }).then(function(data) {\12            //console.log(\"then \", data);\12            if (data.status == \"ok\") {                                \12                button.innerHTML = \"Syst\303\250me contact\303\251,<br>d\303\251verrouillage pendant 2 secondes ...\";\12            } else {\12                button.innerHTML = \"Syst\303\250me contact\303\251 .. bad luck!\";\12            }\12            setTimeout(reset, 2000);\12        }).catch((e) => {\12            console.log(e);\12            button.innerHTML = \"Pas moyen de contacter le syst\303\250me!.. fetching \" + url + \"/main\" + cde;\12            setTimeout(reset, 2000);\12        })}, \12               1000);\12}\12\12function debug() {\12    ouvre(\"96713\");\12    const delay = Math.floor(Math.random()*5000+1);       \12    setTimeout(debug, delay);\12}\12\12//setTimeout(debug, 1000);\12\12function swap_func(cde) {\12    murl = \"swap\";\12    fetch(murl).then(function(response) {\12        d = response.json();\12        return d;\12    }).then(function(data) {\12        document.getElementById(\"statut\").innerHTML = \"La porte est \" + data[\"porte\"];\12        setTimeout(statut, 1000);\12    }).catch(function(ee) {\12        console.log(\"swap Booo\");\12        //document.getElementById(\"statut\").innerHTML = ee;\12        \12    });    \12}\12\12button.addEventListener('click', function() { ouvre(code); });\12swap.addEventListener('click', function() { swap_func(); });\12reset();\12buttons = [];\12clicked = [];\12function addbutton(txt, x, y) {\12    // Create a button element\12    const nbutton = document.createElement('button');\12    nbutton.innerText = txt;\12    //console.log(nbutton);\12    nbutton.style.position = \"absolute\";\12    nbutton.style.left = x + 'px';\12    nbutton.style.top = y + 'px';\12    nbutton.style.fontSize = \"120px\";\12    nbutton.style.backgroundColor = 'White';\12    nbutton.addEventListener('click', function() {\12        console.log( this );\12        this.style.backgroundColor = 'Red';\12        this.disabled = true;\12        clicked.push(this);\12        if (clicked.length == 5) {\12            code = \"\";\12            for (i=0; i < clicked.length; i++) {\12                b = clicked[i];\12                code += b.innerText;\12                b.style.backgroundColor = 'White';\12                b.disabled = false;\12            };\12            ouvre(code);\12            //console.log(code);\12            clicked = [];\12        }\12    });\12    buttons.push(nbutton);\12    buttons_div.appendChild(nbutton);\12};\12W=30*4;\12H=75*2;\12ML=  100;\12MH = 230;\12//console.log(\"create buttons\");\12for (i = 1; i < 10; i++) {\12    //console.log(i);\12    addbutton(i, ((i-1) % 3) * W + ML, (~~((i-1) / 3) * H) + MH); \12}                        \12\012";

#ifdef __cplusplus
} /* extern "C" */
#endif
